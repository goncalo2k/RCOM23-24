<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        RCOM Project 2 - HackMD
    </title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
    <link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.5.0/octicons.min.css" integrity="sha256-QiWfLIsCT02Sdwkogf6YMiQlj4NE84MKkzEMkZnMGdg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@hackmd/emojify.js@2.1.0/dist/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @import url(https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i|Source+Code+Pro:300,400,500|Source+Sans+Pro:300,300i,400,400i,600,600i|Source+Serif+Pro&subset=latin-ext);.hljs{background:#fff;color:#333;display:block;overflow-x:auto;padding:.5em}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-string,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#0086b3}.hljs-built_in,.hljs-builtin-name{color:#005cc5}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#795da3}.hljs-addition{background-color:#eaffea;color:#55a532}.hljs-deletion{background-color:#ffecec;color:#bd2c00}.hljs-link{text-decoration:underline}.markdown-body{word-wrap:break-word;font-size:16px;line-height:1.5}.markdown-body:after,.markdown-body:before{content:"";display:table}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-bottom:16px;margin-top:0}.markdown-body hr{background-color:#e7e7e7;border:0;height:.25em;margin:24px 0;padding:0}.markdown-body blockquote{border-left:.25em solid #ddd;color:#777;font-size:16px;padding:0 1em}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd,.popover kbd{background-color:#fcfcfc;border:1px solid;border-color:#ccc #ccc #bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb;color:#555;display:inline-block;font-size:11px;line-height:10px;padding:3px 5px;vertical-align:middle}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#000;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{border-bottom:1px solid #eee;padding-bottom:.3em}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{color:#777;font-size:.85em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{list-style-type:none;padding:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-bottom:0;margin-top:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{padding-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{font-size:1em;font-style:italic;font-weight:700;margin-top:16px;padding:0}.markdown-body dl dd{margin-bottom:16px;padding:0 16px}.markdown-body table{display:block;overflow:auto;width:100%;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{border:1px solid #ddd;padding:6px 13px}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{background-color:#fff;box-sizing:initial;max-width:100%}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{background-color:initial;max-width:none;vertical-align:text-top}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{border:1px solid #ddd;display:block;float:left;margin:13px 0 0;overflow:hidden;padding:7px;width:auto}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{clear:both;color:#333;display:block;padding:5px 0 0}.markdown-body span.align-center{clear:both;display:block;overflow:hidden}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{clear:both;display:block;overflow:hidden}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{background-color:#0000000a;border-radius:3px;font-size:85%;margin:0;padding:.2em 0}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{content:"\00a0";letter-spacing:-.2em}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{background:#0000;border:0;font-size:100%;margin:0;padding:0;white-space:pre;word-break:normal}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{border-radius:3px;font-size:85%;line-height:1.45;overflow:auto}.markdown-body:not(.next-editor) pre{background-color:#f7f7f7;padding:16px}.markdown-body pre code,.markdown-body pre tt{word-wrap:normal;background-color:initial;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{font-size:12px;line-height:1;overflow:hidden;padding:5px;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{background:#fff;border:0;padding:10px 8px 9px;text-align:right}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{background:#f8f8f8;border-top:0;font-weight:700}.news .alert .markdown-body blockquote{border:0;padding:0 0 0 40px}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{cursor:default!important;float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle}.markdown-body{max-width:758px;overflow:visible!important;padding-bottom:40px;padding-top:40px;position:relative}.markdown-body.next-editor{overflow-x:hidden!important}.markdown-body .emoji{vertical-align:top}.markdown-body pre{border:inherit!important}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{border-right:3px solid #6ce26c!important;box-sizing:initial;color:#afafaf!important;cursor:default;display:inline-block;min-width:20px;padding:0 8px 0 0;position:relative;text-align:right;z-index:4}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-bottom:none;border-left:none;border-top:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-collapse:inherit!important;border-spacing:0}.markdown-body code[data-gist-id]{background:none;padding:0}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{margin-bottom:unset;overflow:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert{display:flex;flex-direction:column;gap:16px}.markdown-body .alert>*{margin:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram,.markdown-body pre.vega{background-color:inherit;border-radius:0;overflow:visible;text-align:center;white-space:inherit}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code,.markdown-body pre.vega>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg,.markdown-body pre.vega>svg{height:100%;max-width:100%}.markdown-body pre>code.wrap{word-wrap:break-word;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.markdown-body .mark,.markdown-body mark{background-color:#fff1a7}.vimeo,.youtube{background-color:#000;background-position:50%;background-repeat:no-repeat;background-size:contain;cursor:pointer;display:table;overflow:hidden;text-align:center}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{object-fit:contain;width:100%;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{height:100%;left:0;position:absolute;top:0;width:100%}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{color:#fff;height:auto;left:50%;opacity:.3;position:absolute;top:50%;transform:translate(-50%,-50%);transition:opacity .2s;width:auto;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:100%}.figma{display:table;padding-bottom:56.25%;position:relative;width:100%}.figma iframe{border:1px solid #eee;bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:100%}.markmap-container{height:300px}.markmap-container>svg{height:100%;width:100%}.MJX_Assistive_MathML{display:none}#MathJax_Message{z-index:1000!important}.ui-infobar{color:#777;margin:25px auto -25px;max-width:760px;position:relative;z-index:2}.toc .invisable-node{list-style-type:none}.ui-toc{bottom:20px;position:fixed;z-index:998}.ui-toc.both-mode{margin-left:8px}.ui-toc.both-mode .ui-toc-label{border-bottom-left-radius:0;border-top-left-radius:0;height:40px;padding:10px 4px}.ui-toc-label{background-color:#e6e6e6;border:none;color:#868686;transition:opacity .2s}.ui-toc .open .ui-toc-label{color:#fff;opacity:1;transition:opacity .2s}.ui-toc-label:focus{background-color:#ccc;color:#000;opacity:.3}.ui-toc-label:hover{background-color:#ccc;opacity:1;transition:opacity .2s}.ui-toc-dropdown{margin-bottom:20px;margin-top:20px;max-height:70vh;max-width:45vw;overflow:auto;padding-left:10px;padding-right:10px;text-align:inherit;width:25vw}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{letter-spacing:.0029em;padding-right:0}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{color:#767676;display:block;font-size:13px;font-weight:500;padding:4px 20px}.ui-toc-dropdown .nav>li:first-child:last-child>ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{background-color:initial;border-left:1px solid #000;color:#000;padding-left:19px;text-decoration:none}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{border-left:none;border-right:1px solid #000;padding-right:19px}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{background-color:initial;border-left:2px solid #000;color:#000;font-weight:700;padding-left:18px}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{border-left:none;border-right:2px solid #000;padding-right:18px}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{font-size:12px;font-weight:400;padding-bottom:1px;padding-left:30px;padding-top:1px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{font-size:12px;font-weight:400;padding-bottom:1px;padding-left:40px;padding-top:1px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{font-weight:500;padding-left:28px}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{font-weight:500;padding-left:38px}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html[lang^=ja] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ ゴシック,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html[lang=zh-tw] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html[lang=zh-cn] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html .markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ ゴシック,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html .markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html .markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}html[lang^=ja] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ Ｐゴシック,sans-serif}html[lang=zh-tw] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html[lang=zh-cn] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}html .ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ Ｐゴシック,sans-serif}html .ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html .ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}.ui-affix-toc{max-height:70vh;max-width:15vw;overflow:auto;position:fixed;top:0}.back-to-top,.expand-toggle,.go-to-bottom{color:#999;display:block;font-size:12px;font-weight:500;margin-left:10px;margin-top:10px;padding:4px 10px}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:50%;display:block;height:20px;margin-bottom:2px;margin-right:5px;margin-top:2px;width:20px}.ui-user-icon.small{display:inline-block;height:18px;margin:0 0 .2em;vertical-align:middle;width:18px}.ui-infobar>small>span{line-height:22px}.ui-infobar>small .dropdown{display:inline-block}.ui-infobar>small .dropdown a:focus,.ui-infobar>small .dropdown a:hover{text-decoration:none}.ui-more-info{color:#888;cursor:pointer;vertical-align:middle}.ui-more-info .fa{font-size:16px}.ui-connectedGithub,.ui-published-note{color:#888}.ui-connectedGithub{line-height:23px;white-space:nowrap}.ui-connectedGithub a.file-path{color:#888;padding-left:22px;text-decoration:none}.ui-connectedGithub a.file-path:active,.ui-connectedGithub a.file-path:hover{color:#888;text-decoration:underline}.ui-connectedGithub .fa{font-size:20px}.ui-published-note .fa{font-size:20px;vertical-align:top}.unselectable{-webkit-user-select:none;-o-user-select:none;user-select:none}.selectable{-webkit-user-select:text;-o-user-select:text;user-select:text}.inline-spoiler-section{cursor:pointer}.inline-spoiler-section .spoiler-text{background-color:#333;border-radius:2px}.inline-spoiler-section .spoiler-text>*{opacity:0}.inline-spoiler-section .spoiler-img{filter:blur(10px)}.inline-spoiler-section.raw{background-color:#333;border-radius:2px}.inline-spoiler-section.raw>*{opacity:0}.inline-spoiler-section.unveil{cursor:auto}.inline-spoiler-section.unveil .spoiler-text{background-color:#3333331a}.inline-spoiler-section.unveil .spoiler-text>*{opacity:1}.inline-spoiler-section.unveil .spoiler-img{filter:none}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{color:#222;position:relative;z-index:1}.markdown-body.slides:before{background-color:currentColor;bottom:0;box-shadow:0 0 0 50vw;content:"";display:block;left:0;position:absolute;right:0;top:0;z-index:-1}.markdown-body.slides section[data-markdown]{background-color:#fff;margin-bottom:1.5em;position:relative;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{left:1em;max-height:100%;overflow:hidden;position:absolute;right:1em;top:50%;transform:translateY(-50%)}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{border:3px solid #777;content:"";height:1.5em;position:absolute;right:1em;top:-1.5em}.site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ ゴシック,sans-serif}html[lang=zh-tw] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;-webkit-overflow-scrolling:touch;font-family:Source Sans Pro,Helvetica,Arial,sans-serif;letter-spacing:.025em}html[lang^=ja] body{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ ゴシック,sans-serif}html[lang=zh-tw] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}abbr[data-original-title],abbr[title]{cursor:help}body.modal-open{overflow-y:auto;padding-right:0!important}svg{text-shadow:none}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid comment-enabled" data-hard-breaks="true"><div>
<img src="https://raw.githubusercontent.com/pedrofvgomes/feup-ipc/main/img/feup.png">
<h1 id="RCOM-Project-2" data-id="RCOM-Project-2"><a class="anchor hidden-xs" href="#RCOM-Project-2" title="RCOM-Project-2"><span class="octicon octicon-link"></span></a>RCOM Project 2</h1>
<p>
Gonçalo  Miranda (up202108773)
<br>
Sophie Large (up202303141)
</p>
</div><h2 id="Table-of-Contents" data-id="Table-of-Contents"><a class="anchor hidden-xs" href="#Table-of-Contents" title="Table-of-Contents"><span class="octicon octicon-link"></span></a><span>Table of Contents</span></h2><p><span>Certainly! Here’s an index based on the headings in the provided document:</span></p><ol>
<li><a href="#introduction"><span>Introduction</span></a></li>
<li><a href="#part-1---develoment-of-the-download-application-appc-and-apph"><span>Part 1 - Development of the Download Application (app.c and app.h)</span></a>
<ol>
<li><a href="#architecture-of-the-application"><span>Architecture of the Application</span></a></li>
</ol>
</li>
<li><a href="#part-2---experiences"><span>Part 2 - Experiences</span></a>
<ol>
<li><a href="#experience-1---configure-an-ip-network"><span>Experience 1 - Configure an IP Network</span></a>
<ul>
<li><a href="#step-by-step"><span>Step By Step</span></a></li>
<li><a href="#questions"><span>Questions</span></a></li>
</ul>
</li>
<li><a href="#experience-2---implement-two-bridges-in-a-switch"><span>Experience 2 - Implement two bridges in a switch</span></a>
<ul>
<li><a href="#step-by-step"><span>Step By Step</span></a></li>
<li><a href="#questions"><span>Questions</span></a></li>
</ul>
</li>
<li><a href="#experience-3---configure-a-router-in-linux"><span>Experience 3 - Configure a router in Linux</span></a>
<ul>
<li><a href="#step-by-step"><span>Step By Step</span></a></li>
<li><a href="#questions"><span>Questions</span></a></li>
</ul>
</li>
<li><a href="#experience-4---configure-a-commercial-router-and-implement-nat"><span>Experience 4 - Configure a Commercial Router and Implement NAT</span></a>
<ul>
<li><a href="#step-by-step"><span>Step By Step</span></a></li>
<li><a href="#questions"><span>Questions</span></a></li>
</ul>
</li>
<li><a href="#experience-5---dns"><span>Experience 5 - DNS</span></a>
<ul>
<li><a href="#step-by-step"><span>Step By Step</span></a></li>
<li><a href="#questions"><span>Questions</span></a></li>
</ul>
</li>
<li><a href="#experience-6---tcp-connections"><span>Experience 6 - TCP Connections</span></a>
<ul>
<li><a href="#step-by-step"><span>Step By Step</span></a></li>
<li><a href="#questions"><span>Questions</span></a></li>
</ul>
</li>
</ol>
</li>
<li><a href="#conclusions"><span>Conclusions</span></a></li>
<li><a href="#annexes"><span>Annexes</span></a>
<ul>
<li><a href="#1-code"><span>1. Code</span></a></li>
<li><a href="#2-wireshark-captures"><span>2. Wireshark Captures</span></a></li>
</ul>
</li>
</ol><p><span>Feel free to let me know if you need anything else or if you want further customization!</span></p><h2 id="Introduction" data-id="Introduction"><a class="anchor hidden-xs" href="#Introduction" title="Introduction"><span class="octicon octicon-link"></span></a><span>Introduction</span></h2><p><span>The goal of this project was to set up a small network and prove that it is correctly setup using a download application, which was also developed for this project.</span></p><h2 id="Part-1---Develoment-of-the-Download-Application-appc-and-apph" data-id="Part-1---Develoment-of-the-Download-Application-appc-and-apph"><a class="anchor hidden-xs" href="#Part-1---Develoment-of-the-Download-Application-appc-and-apph" title="Part-1---Develoment-of-the-Download-Application-appc-and-apph"><span class="octicon octicon-link"></span></a><span>Part 1 - Develoment of the Download Application (app.c and app.h)</span></h2><p><span>This part of the project consists in the development of a small app that downloads files using the FTP protocol. The app works when provided with an URL such as </span><code>ftp://[&lt;username&gt;[:&lt;password&gt;]@]&lt;host&gt;[:&lt;port&gt;]/&lt;path</code><span>.</span></p><p><span>Example: </span><code>ftp://ftp.up.pt/pub/hello.txt</code></p><p><span>During the development of the app part of the project, we had the chance to understand Unix utilities to handle URLs and to communicate with sockets, the FTP protocol and the concept of DNS.</span></p><h3 id="Architecture-of-the-Application" data-id="Architecture-of-the-Application"><a class="anchor hidden-xs" href="#Architecture-of-the-Application" title="Architecture-of-the-Application"><span class="octicon octicon-link"></span></a><span>Architecture of the Application</span></h3><ol>
<li>
<p><span>Parsing the URL string given as the argument to the program to extract its fragments, such as the username, password, host, port, and path.</span></p>
</li>
<li>
<p><span>Connecting to the host on the specified port (being 21 t he default port, the standard FTP control port).</span></p>
</li>
<li>
<p><span>Entering passive mode and recieving the host and port of the data connection.</span></p>
</li>
<li>
<p><span>Connecting to the data connection host and port.</span></p>
</li>
<li>
<p><span>Notifying the server that it should start transfering the desired file.</span></p>
</li>
<li>
<p><span>Reading the incoming data from the server and writing it locally to the download.</span>&lt;extention&gt;<span> file, being the extention the last part of the path (last string after the last “/”).</span></p>
</li>
<li>
<p><span>Closing the connections and terminating the app.</span></p>
</li>
</ol><p><span>TCP sockets mediate the network communication.</span><br>
<span>By making use of the URL parser we designed, via a state machine and regular expressions, and getaddrinfo(), the FTP server’s IP and con-</span><br>
<span>trol port are obtained (in case there’s no port specified, 21 is the value assumed). A TCP connection is established and the pro-</span><br>
<span>gram starts sending commands through the control</span><br>
<span>connection, which will be responded by the server. Those responses carry response codes, that are properly extracted and checked to understand if the program is working as intended. If any of the response codes sent by the server doesn’t match the expected code, the program is terminated with exit code -1.</span><br>
<span>In case there’s no username specified by the user, “anonymous” is assumed as the username, since it’s the default value we decided to provied.</span><br>
<span>After that, passive mode is entered and, if its successfully entered,</span><br>
<span>the server responds with code 227 and the host’s IP and port.</span><br>
<span>After establishing a data connection , the retr command is sent and, after that, the buffers of data from the data connection begin getting read into a file named “download.</span><code>&lt;extention&gt;</code><span>”, where the extention is the last string after the last “/” in the file path provided by the user.</span><br>
<span>Finally, the connection is closed and the program terminates.</span></p><h2 id="Part-2---Experiences" data-id="Part-2---Experiences"><a class="anchor hidden-xs" href="#Part-2---Experiences" title="Part-2---Experiences"><span class="octicon octicon-link"></span></a><span>Part 2 - Experiences</span></h2><h3 id="Experience-1---Configure-an-IP-Network" data-id="Experience-1---Configure-an-IP-Network"><a class="anchor hidden-xs" href="#Experience-1---Configure-an-IP-Network" title="Experience-1---Configure-an-IP-Network"><span class="octicon octicon-link"></span></a><span>Experience 1 - Configure an IP Network</span></h3><h4 id="Step-By-Step" data-id="Step-By-Step"><a class="anchor hidden-xs" href="#Step-By-Step" title="Step-By-Step"><span class="octicon octicon-link"></span></a><span>Step By Step</span></h4><p><span>Note that, in this experience, the workbench used was workbench 4.</span></p><ol>
<li>
<p><span>Connect E0 on Tux</span><strong><span>Y</span></strong><span>3 and Tux</span><strong><span>Y</span></strong><span>4 on any of the switch ports.</span></p>
</li>
<li>
<p><span>Configure Tux</span><strong><span>Y</span></strong><span>3 and Tux</span><strong><span>Y</span></strong><span>4, by performing the following commands:</span></p>
<ul>
<li><span>Tux</span><strong><span>Y</span></strong><span>3</span><br>
<br><br>
<code><span>$ ifconfig eth0 up</span><br>
<br><span>$ ifconfig eth0 172.16.</span><strong><span>Y</span></strong><span>0.</span><strong><span>1</span></strong><span>/24</span><br>
</code></li>
<li><span>Tux</span><strong><span>Y</span></strong><span>4</span><br>
<br><br>
<code><span>$ ifconfig eth0 up</span><br>
<br><span>$ ifconfig eth0 172.16.</span><strong><span>Y</span></strong><span>0.</span><strong><span>254</span></strong><span>/24</span><br>
</code></li>
</ul>
</li>
<li>
<p><span>Now we can check both the IP and MAC adresses of both computers:</span></p>
<ul>
<li><span>TuxY3:</span>
<ul>
<li><span>IP Address: 172.16.</span><strong><span>Y</span></strong><span>0.1/24</span></li>
<li><span>MAC Address: 00:21:5a:61:2f:d4</span></li>
</ul>
</li>
<li><span>TuxY4:</span>
<ul>
<li><span>IP Address: 172.16.</span><strong><span>Y</span></strong><span>0.254/24</span></li>
<li><span>MAC Address: 00:21:5a:5a:7b:ea</span></li>
</ul>
</li>
</ul>
</li>
<li>
<p><span>We now can test the connectivity between the computers by pinging each other (TuxY3 pings TuxY4 and vice-versa).</span></p>
<p><span>TuxY3:</span></p>
 <code>
 $ ping 172.16.Y0.254 -c 10
 </code>
<p><img src="https://hackmd.io/_uploads/SkctaoLLa.png" alt="Ping from TuxY4 to TuxY3" loading="lazy"></p>
 <br>
<p><span>TuxY4:</span></p>
 <code>
 $ ping 172.16.Y0.1 -c 10
 </code>
<p><img src="https://hackmd.io/_uploads/Hks4TjIUa.png" alt="Ping from TuxY4 to TuxY3" loading="lazy"></p>
<pre><code> &lt;br&gt;
 The connection is working in case all the packets are correctly recieved.
 &lt;br&gt;
</code></pre>
</li>
<li>
<p><span>Now, we can check the forwarding and the ARP tables. We’re doing it on TuxY3.</span><br>
<br><br>
<span>In:</span></p>
<p><code><span>$ route -n</span></code></p>
<p><span>out: </span><img src="https://hackmd.io/_uploads/rJEOaoL8p.png" alt="route_table" loading="lazy"></p>
 <br>
 In:
<p><code><span>$ arp -a</span></code></p>
<p><span>out:</span></p>
<p><code><span> ? (172.16.Y0.254) at 00:21:5a:5a:7b:ea [ether] on eht0</span><br>
</code></p>
</li>
<li>
<p><span>We are now deleting the arp table entries in Tux</span><strong><span>Y</span></strong><span>3.</span><br>
<span>In:</span></p>
 <code>
 $ arp -d 172.16.Y0.254
 </code>
<p><span>To test if the deletion occurred correctly, we can perform</span></p>
<p><span>In:</span></p>
<p><code><span>$ arp -a</span></code></p>
<p><span>out:</span></p>
<p><span>No entries on the table</span></p>
</li>
<li>
<p><span>Now, we can start Wireshark in Tux</span><strong><span>Y</span></strong><span>3.eth0 and start capturing packets.</span></p>
</li>
<li>
<p><span>After that, we can ping Tux</span><strong><span>Y</span></strong><span>4 from Tux</span><strong><span>Y</span></strong><span>3 10 times.</span></p>
 <code>
 $ ping 172.16.40.254 -c 10
  </code>
</li>
</ol><br><ol start="9">
<li>
<p><span>Finally, we can stop capturing the packets.</span></p>
</li>
<li>
<p><span>When saving the logs and analysing them, we’ve got the following:</span></p>
<p><img src="https://hackmd.io/_uploads/SJ6eRs88p.png" alt="Wireshark pings" loading="lazy"></p>
</li>
</ol><h4 id="Questions" data-id="Questions"><a class="anchor hidden-xs" href="#Questions" title="Questions"><span class="octicon octicon-link"></span></a><span>Questions</span></h4><ol>
<li>
<p><span>What are the ARP packets and what are they used for?</span></p>
<p><span>The ARP (</span><em><span>Address Resolution Protocol</span></em><span>) packets are used to establish a connection between an IP and a MAC address.</span></p>
</li>
<li>
<p><span>What are the MAC and IP addresses of ARP packets and why?</span></p>
<p><span>The ARP packets carry 2 IP addresses: the destiny machine’s IP address (172.16.</span><strong><span>Y</span></strong><span>0.254, Tux</span><strong><span>Y</span></strong><span>4) the the source machine’s IP address (172.16.</span><strong><span>Y</span></strong><span>0.01, Tux</span><strong><span>Y</span></strong><span>3). Tux</span><strong><span>Y</span></strong><span>4 then proceeds to send another ARP packet to Tux</span><strong><span>Y</span></strong><span>3, that contains its MAC address (00:21:5a:5a:7b:ea).</span></p>
</li>
<li>
<p><span>What packets does the ping command generate?</span></p>
<p><span>While the destiny’s MAC address isn’t recieved, </span><em><span>ping</span></em><span> generates ARP packets. After connecting the IP address to the corresponding MAC address,it generates ICMP (</span><em><span>Internet Control Message Protocol</span></em><span>) packets.</span></p>
</li>
<li>
<p><span>What are the MAC and IP addresses of the ping packets?</span></p>
<p><span>The IP and MAC addresses used in ICMP are the ones from the machines in use - in this case, Tux</span><strong><span>Y</span></strong><span>3 and Tux</span><strong><span>Y</span></strong><span>4.</span></p>
</li>
<li>
<p><span>How to determine if a receiving Ethernet frame is ARP, IP, ICMP?</span></p>
<p><span>Each frame’s protocal designation can be checked in the “Protocol” column of the Wireshark capture. The protoccol is usually indicated inthe first 2 bytes of the frame, in its header.</span></p>
</li>
<li>
<p><span>How to determine the length of a receiving frame?</span></p>
<p><span>Wireshark has a column that specifies the frame size,in bytes. Usually that is also present in the frame’s header.</span></p>
</li>
<li>
<p><span>What is the loopback interface and why is it important?</span></p>
<p><span>It’s a virtual interface that’s always reachable as long as one of the switch’s interfaces are on. Because of this, its possible to periodically check if the network’s connections are properly configured.</span></p>
</li>
</ol><h3 id="Experience-2---Implement-two-bridges-in-a-switch" data-id="Experience-2---Implement-two-bridges-in-a-switch"><a class="anchor hidden-xs" href="#Experience-2---Implement-two-bridges-in-a-switch" title="Experience-2---Implement-two-bridges-in-a-switch"><span class="octicon octicon-link"></span></a><span>Experience 2 - Implement two bridges in a switch</span></h3><h4 id="Step-By-Step1" data-id="Step-By-Step"><a class="anchor hidden-xs" href="#Step-By-Step1" title="Step-By-Step1"><span class="octicon octicon-link"></span></a><span>Step By Step</span></h4><p><span>Note that, in this experience, the workbench used was workbench 4.</span></p><ol>
<li>
<p><span>Connect E0 on Tux</span><strong><span>Y</span></strong><span>2 to any of the switch ports. After that,configure Tux</span><strong><span>Y</span></strong><span>2, by performing the following commands:</span><br>
<br><br>
<code><span>$ ifconfig eth0 up</span><br>
<br><span>$ ifconfig eth0 172.16.</span><strong><span>Y</span></strong><span>1.</span><strong><span>1</span></strong><span>/24</span><br>
</code></p>
</li>
<li>
<p><span>Now, we can creating two bridges in the switch, using the following commands on GTKTerm.</span></p>
<ul>
<li>
<p><span>Bridge</span><strong><span>Y</span></strong><span>0:</span></p>
  <code>
  /interface bridge add name=bridgeY0
  </code>
</li>
<li>
<p><span>Bridge</span><strong><span>Y</span></strong><span>1:</span></p>
  <code>
  /interface bridge add name=bridgeY1
  </code>
</li>
</ul>
</li>
<li>
<p><span>Afterwards, we can remove the ports where Tux</span><strong><span>Y</span></strong><span>2, Tux</span><strong><span>Y</span></strong><span>3, and Tux</span><strong><span>Y</span></strong><span>4 are connected from the default bridge and add them to the corresponding ports to bridge</span><strong><span>Y</span></strong><span>0 and bridge</span><strong><span>Y</span></strong><span>1.</span></p>
<ul>
<li>
<p><span>Removing the original ports:</span></p>
  <code>
  /interface bridge port remove [find interface=ether1] 
  <br>
  /interface bridge port remove [find interface=ether2] 
  <br>
  /interface bridge port remove [find interface=ether3]
  </code>
</li>
<li>
<p><span>Adding the current ports:</span></p>
  <code>
  /interface bridge port add bridge=bridgeY0 interface=ether1
  <br>
  /interface bridge port add bridge=bridgeY0 interface=ether2 
  <br>
  /interface bridge port add bridge=bridgeY1 interface=ether3
  </code>
  <br>
</li>
</ul>
</li>
<li>
<p><span>Now, we should switch to Tux</span><strong><span>Y</span></strong><span>3 and start monitoring the packets.</span></p>
</li>
<li>
<p><span>Ping Tux</span><strong><span>Y</span></strong><span>4 and Tux</span><strong><span>Y</span></strong><span>2 from Tux</span><strong><span>Y</span></strong><span>3.</span><br>
<br><br>
<span>In:</span></p>
 <code>
     $ ping 172.16.Y0.254 -c 10
 </code>
<p><span>Out:</span></p>
<p><span>In Tux</span><strong><span>Y</span></strong><span>4, all 10 packets have been recieved successfully!</span></p>
 <br>
 In:
 <code>
     $ ping 172.16.Y1.1 -c 10
 </code>
<p><span>Out:</span></p>
<p><span>In Tux</span><strong><span>Y</span></strong><span>2 -&gt; connect: Network is unreachable</span></p>
</li>
<li>
<p><span>Afterwards, stop the capture.</span></p>
</li>
<li>
<p><span>Proceed by starting the capture of eth0 in Tux</span><strong><span>Y</span></strong><span>2, Tux</span><strong><span>Y</span></strong><span>3 and Tux</span><strong><span>Y</span></strong><span>4.</span></p>
</li>
<li>
<p><span>From Tux</span><strong><span>Y</span></strong><span>3, ping 172.16.</span><strong><span>Y</span></strong><span>0.255.</span></p>
 <code>
     $ ping 172.16.Y0.255 -c 10
 </code>
</li>
<li>
<p><span>Stop the captures.</span></p>
</li>
<li>
<p><span>Restart the previous captures.</span></p>
</li>
<li>
<p><span>From Tux</span><strong><span>Y</span></strong><span>2, ping 172.16.</span><strong><span>Y</span></strong><span>1.255.</span></p>
</li>
<li>
<p><span>Enable ICMP</span></p>
</li>
<li>
<p><span>IP forwarding</span></p>
</li>
</ol><h4 id="Questions1" data-id="Questions"><a class="anchor hidden-xs" href="#Questions1" title="Questions1"><span class="octicon octicon-link"></span></a><span>Questions</span></h4><ol>
<li>
<p><span>How to configure bridgeY0?</span></p>
<p><span>In order to connect Tux</span><strong><span>Y</span></strong><span>3 and Tux</span><strong><span>Y</span></strong><span>4, bridge</span><strong><span>Y</span></strong><span>0 was configured, creating a subnet. To configure the bridge properly, we delete previous configurations and default connections when the machines first connected and configure new ports that connect to each machine. We can do this by using the commands states in the previous step-by-step guide.</span></p>
</li>
<li>
<p><span>How many broadcast domains are there? How can you conclude it from the logs?</span></p>
<p><span>Since we implemented two bridges (bridge</span><strong><span>Y</span></strong><span>0 and bridge</span><strong><span>Y</span></strong><span>0), there are two broadcast domains. We can conclude this because, after analyzing the Wireshark logs, Tux</span><strong><span>Y</span></strong><span>3 got a response from Tux</span><strong><span>Y</span></strong><span>4 but not from Tux</span><strong><span>Y</span></strong><span>2, since they’re on different bridges and, therefore, different broadcast domains.</span></p>
</li>
</ol><h3 id="Experience-3---Configure-a-router-in-Linux" data-id="Experience-3---Configure-a-router-in-Linux"><a class="anchor hidden-xs" href="#Experience-3---Configure-a-router-in-Linux" title="Experience-3---Configure-a-router-in-Linux"><span class="octicon octicon-link"></span></a><span>Experience 3 - Configure a router in Linux</span></h3><h4 id="Step-By-Step2" data-id="Step-By-Step"><a class="anchor hidden-xs" href="#Step-By-Step2" title="Step-By-Step2"><span class="octicon octicon-link"></span></a><span>Step By Step</span></h4><p><span>Note that, in this experience, the workbench used was workbench 5.</span></p><ol>
<li>
<p><span>We need to configure Tux</span><strong><span>Y</span></strong><span>4 as a router, by:</span></p>
<ul>
<li>
<p><span>Connect Tux</span><strong><span>Y</span></strong><span>4’s eth1 to a switch port.</span></p>
</li>
<li>
<p><span>After connecting the cables, config the port itself.</span></p>
<p><code><span>$ ifconfig eth1 172.16.</span><strong><span>Y</span></strong><span>1.253/24</span></code></p>
</li>
<li>
<p><span>Connect Tux</span><strong><span>Y</span></strong><span>2 to the switch console and add it to bridge</span><strong><span>Y</span></strong><span>1.</span></p>
<p><span>In GTKTerm:</span></p>
<p><code><span> /interface bridge port remove [find interface=ether</span><strong><span>XX</span></strong><span>]</span></code></p><code>
</code><p><code><span>/interface bridge port add interface=ether</span><strong><span>XX</span></strong><span> bridge=bridge</span><strong><span>Y</span></strong><span>1</span><br>
</code><span>, being XX the switch’s port number.</span></p>
</li>
<li>
<p><span>Enable the IP forwarding on Tux</span><strong><span>Y</span></strong><span>4.</span></p>
<p><code><span>$ echo 1 &gt; /proc/sys/net/ipv4/ip_forward</span></code></p>
</li>
<li>
<p><span>Disable ICMP echo-ignore broadcast on Tux</span><strong><span>Y</span></strong><span>4.</span></p>
<p><code><span>$ echo 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts</span></code></p>
</li>
</ul>
</li>
<li>
<p><span>Now, check the MAC and IP addresses in Tux</span><strong><span>Y</span></strong><span>4’s eth0 and eth1.</span></p>
<p><code><span> $ ifconfig </span></code></p>
<p><span>out:</span></p>
<ul>
<li>
<p><span>eth0:</span></p>
<p><span>MAC Address: 00:21:5a:c3:78:70</span><br>
<span>IP Address: 172.16.</span><strong><span>Y</span></strong><span>0.254</span></p>
</li>
<li>
<p><span>eth1:</span></p>
<p><span>MAC Address: 00:c0:df:08:d5:b0</span><br>
<span>IP Address: 172.16.</span><strong><span>Y</span></strong><span>1.253</span></p>
</li>
</ul>
</li>
<li>
<p><span>Reconfigure Tux</span><strong><span>Y</span></strong><span>3 and Tux</span><strong><span>Y</span></strong><span>2 so that they can reach each other.</span></p>
<ul>
<li>
<p><span>Tux</span><strong><span>Y</span></strong><span>2:</span></p>
<p><code><span>$ route add -net 172.16.50.0/24 gw 172.16.51.253 </span></code></p>
</li>
<li>
<p><span>Tux</span><strong><span>Y</span></strong><span>3:</span></p>
<p><code><span>$ route add -net  172.16.</span><strong><span>Y</span></strong><span>1.0/24 gw 172.16.</span><strong><span>Y</span></strong><span>0.254 </span></code></p>
</li>
</ul>
</li>
<li>
<p><span>Now, check the routes available in each machine.</span></p>
<p><code><span>$ route -n</span></code></p>
</li>
<li>
<p><span>Start capturing packets with Wireshark.</span></p>
</li>
<li>
<p><span>From Tux</span><strong><span>Y</span></strong><span>3, ping the other network interfaces and check their connectivity.</span></p>
<p><span>in:</span></p>
<p><code><span>$ ping 172.16.</span><strong><span>Y</span></strong><span>0.254 -c 10</span></code></p>
<p><code><span>$ ping 172.16.</span><strong><span>Y</span></strong><span>1.253 -c 10</span></code></p>
<p><code><span>$ ping 172.16.</span><strong><span>Y</span></strong><span>1.1 -c 10</span></code></p>
<p><span>out:</span></p>
<pre><code> All 10 packets for each ping call recieved correctly in every machine.
</code></pre>
</li>
<li>
<p><span>Stop the log capture and check the logs.</span></p>
</li>
<li>
<p><span>Now, start a Wireshark capture on Tux</span><strong><span>Y</span></strong><span>4’s eth0 and eth1.</span></p>
</li>
<li>
<p><span>In each machine, clean the ARP tables.</span></p>
<ul>
<li>
<p><span>Tux</span><strong><span>Y</span></strong><span>2:</span></p>
<p><code><span>$ arp -d 172.16.</span><strong><span>Y</span></strong><span>1.253</span></code></p>
</li>
<li>
<p><span>Tux</span><strong><span>Y</span></strong><span>3:</span></p>
<p><code><span>$ arp -d 172.16.</span><strong><span>Y</span></strong><span>0.254</span></code></p>
</li>
<li>
<p><span>Tux</span><strong><span>Y</span></strong><span>4:</span></p>
<p><code><span>$ arp -d 172.16.</span><strong><span>Y</span></strong><span>0.1</span></code><br>
<code><span>$ arp -d 172.16.</span><strong><span>Y</span></strong><span>1.1</span></code></p>
</li>
</ul>
</li>
<li>
<p><span>In Tux</span><strong><span>Y</span></strong><span>3, ping Tux</span><strong><span>Y</span></strong><span>2.</span></p>
<p><code><span>$ ping 172.16.Y1.1 c 10</span></code></p>
</li>
<li>
<p><span>Stop both Tux</span><strong><span>Y</span></strong><span>4 Wireshark captures.</span></p>
</li>
</ol><h4 id="Questions2" data-id="Questions"><a class="anchor hidden-xs" href="#Questions2" title="Questions2"><span class="octicon octicon-link"></span></a><span>Questions</span></h4><ol>
<li>
<p><span>What are the commands required to configure this experience?</span></p>
<p><span>The necessary commands to configure the experience are the ones displayed in the step-by-step guide presented before.</span></p>
</li>
<li>
<p><span>What routes are there in the tuxes? What are their meaning?</span></p>
<p><span>There is a route on Tux</span><strong><span>Y</span></strong><span>2 and another in Tux</span><strong><span>Y</span></strong><span>3. Both those routes have Tux</span><strong><span>Y</span></strong><span>4 as the gateway, since Tux</span><strong><span>Y</span></strong><span>4 is the only one common to the created bridges (it’s a router).</span></p>
</li>
<li>
<p><span>What information does an entry of the forwarding table contain?</span></p>
<p><span>Each entry of the forwarding table has the destiny address and its gateway.</span></p>
</li>
<li>
<p><span>What ARP messages, and associated MAC addresses, are observed and why?</span></p>
<p><span>When pinging Tux</span><strong><span>Y</span></strong><span>2 from Tux</span><strong><span>Y</span></strong><span>3, the ARP packages carry the IP and MAC addresses of Tux</span><strong><span>Y</span></strong><span>3 and Tux</span><strong><span>Y4</span></strong><span> instead of the Tux</span><strong><span>Y</span></strong><span>2 as the destiny address. This happens because of the routing we created: here, Tux</span><strong><span>Y</span></strong><span>2’s address is not known by Tux</span><strong><span>Y</span></strong><span>3. The latter only knows the Tux</span><strong><span>Y</span></strong><span>4’s address (gateway), that will later lead to Tux</span><strong><span>Y</span></strong><span>2.</span></p>
<p><img src="https://hackmd.io/_uploads/HJBhaiILa.png" alt="Pings from TuxY3 to TuxY2" loading="lazy"></p>
</li>
<li>
<p><span>What ICMP packets are observed and why?</span></p>
<p><span>The ICMP packets carry the source (Tux</span><strong><span>Y</span></strong><span>3) and destiny’s IP addresses (Tux</span><strong><span>Y</span></strong><span>2). The fact that those two are the IP’s carried means the network is correctly configured.</span></p>
<p><img src="https://hackmd.io/_uploads/SyyAaoI8T.png" alt="ICMP Packets" loading="lazy"></p>
</li>
<li>
<p><span>What are the IP and MAC addresses associated to ICMP packets and why?</span></p>
<p><span>Each ICMP packet observed after the ping from Tux</span><strong><span>Y</span></strong><span>3 to Tux</span><strong><span>Y</span></strong><span>2, carry Tux</span><strong><span>Y</span></strong><span>3’s IP address as the source IP address and the Tux</span><strong><span>Y</span></strong><span>3’s IP address as the destiny address, however, the ICMP packets carry Tux</span><strong><span>Y</span></strong><span>4’s MAC address, due to the fact that this machine is the one connecting the two bridges.</span></p>
</li>
</ol><h3 id="Experience-4---Configure-a-Commercial-Router-and-Implement-NAT" data-id="Experience-4---Configure-a-Commercial-Router-and-Implement-NAT"><a class="anchor hidden-xs" href="#Experience-4---Configure-a-Commercial-Router-and-Implement-NAT" title="Experience-4---Configure-a-Commercial-Router-and-Implement-NAT"><span class="octicon octicon-link"></span></a><span>Experience 4 - Configure a Commercial Router and Implement NAT</span></h3><h4 id="Step-By-Step3" data-id="Step-By-Step"><a class="anchor hidden-xs" href="#Step-By-Step3" title="Step-By-Step3"><span class="octicon octicon-link"></span></a><span>Step By Step</span></h4><p><span>Note that, in this experience, the workbench used was workbench 5.</span></p><ol>
<li>
<p><span>Connect the router’s eth1 port to the port </span><strong><span>Y</span></strong><span>1 of the server rack in the lab - NAT is, by default, enabled.</span></p>
</li>
<li>
<p><span>Connect the router’s eth2 port to the switch.</span></p>
</li>
<li>
<p><span>Delete the default ports of the switch’s etherXX (XX represents the port number on which the cable is connected) and connect it to bridge</span><strong><span>Y</span></strong><span>1.</span></p>
<ul>
<li>
<p><span>Using GTKTerm, in the switch’s console, run:</span></p>
  <code>
  /interface bridge port remove [find interface=etherXX]
</code><p><code><span>/interface bridge port add bridge=bridge</span><strong><span>Y</span></strong><span>1 interface=etherXX</span><br>
</code></p>
</li>
</ul>
</li>
<li>
<p><span>Switch the cable that was connected to the switch to the router.</span></p>
</li>
<li>
<p><span>Reset the router’s settings and configure its IP address.</span></p>
<ul>
<li>
<p><span>Using GTKTerm, switch the baudrate to 115200 and the serial port to /dev/ttyS0. After that, run:</span></p>
  <code>
  /system reset-configuration
  </code>
</li>
<li>
<p><span>Login with username “admin” and no password.</span></p>
</li>
<li>
<p><span>Run:</span></p>
  <code>
  /ip address add address=172.16.1.Y9/24 interface=ether1
  /ip address add address=172.16.Y1.254/24 interface=ether2
  </code>
</li>
</ul>
</li>
<li>
<p><span>Configure all the computer’s default routes, as well as the router’s.</span></p>
<ul>
<li>
<p><span>Tux</span><strong><span>Y</span></strong><span>2:</span></p>
<p><code><span>$ route add default gw 172.16.</span><strong><span>Y</span></strong><span>1.254</span></code></p>
</li>
<li>
<p><span>Tux</span><strong><span>Y</span></strong><span>3:</span></p>
<p><code><span>$ route add default gw 172.16.</span><strong><span>Y</span></strong><span>0.254</span></code></p>
</li>
<li>
<p><span>Tux</span><strong><span>Y</span></strong><span>4:</span></p>
<p><code><span> $ route add default gw 172.16.</span><strong><span>Y</span></strong><span>1.254</span></code></p>
</li>
<li>
<p><span>Using GTKTerm on the router’s console, run:</span><br>
<code><br>
<span>/ip route add dst-address=172.16.</span><strong><span>Y</span></strong><span>0.0/24 gateway=172.16.</span><strong><span>Y</span></strong><span>1.253</span></code></p><code>
</code><p><code><span>/ip route add dst-address=0.0.0.0/0 gateway=172.16.1.254</span><br>
</code></p>
</li>
</ul>
</li>
<li>
<p><span>Start a Wireshark capture on Tux</span><strong><span>Y</span></strong><span>3  to check if it can ping all the network interfaces of Tux</span><strong><span>Y</span></strong><span>2, Tux</span><strong><span>Y</span></strong><span>4 and the router.</span></p>
<p><span>In:</span></p>
<p><code><span>$ ping 172.16.</span><strong><span>Y</span></strong><span>0.254 -c 10</span></code></p><code>
<p><span>$ ping 172.16.</span><strong><span>Y</span></strong><span>1.1 -c 10</span></p>
</code><p><code><span>$ ping 172.16.</span><strong><span>Y</span></strong><span>1.254 -c 10</span><br>
</code></p>
<p><span>Out:</span></p>
<p><span>All 10 packets for each ping call recieved correctly in every machine.</span></p>
</li>
<li>
<p><span>On Tux</span><strong><span>Y</span></strong><span>2, disable accept_redirects.</span><br>
<code></code></p><code>
<p><span>$ sysctl net.ipv4.conf.eth0.accept_redirects=0</span></p>
</code><p><code><span>$ sysctl net.ipv4.conf.all.accept_redirects=0</span><br>
</code></p>
</li>
<li>
<p><span>Remove the route that connects Tux</span><strong><span>Y</span></strong><span>2 to Tux</span><strong><span>Y</span></strong><span>4.</span></p>
<p><code><span>$ route del -net 172.16.</span><strong><span>Y</span></strong><span>0.0 gw 172.16.</span><strong><span>Y</span></strong><span>1.253 netmask 255.255.255.0</span></code></p>
</li>
<li>
<p><span>On Tux</span><strong><span>Y</span></strong><span>2, start a Wireshark capture and ping Tux</span><strong><span>y</span></strong><span>3.</span><br>
<span>In:</span></p>
<p><code><span>$ ping 172.16.</span><strong><span>Y</span></strong><span>0.1</span></code></p>
<p><span>Out:</span><br>
<span>All 10 packets of the ping call recieved correctly (connection was using the proper router instead of Tux</span><strong><span>Y</span></strong><span>4 as a router).</span></p>
</li>
<li>
<p><span>Now, lets check the connection’s route.</span><br>
<span>In:</span></p>
<p><code><span>$ traceroute -n 172.16.</span><strong><span>Y</span></strong><span>0.1</span></code></p>
<p><span>Out:</span></p>
<p><span>traceroute to 172.16.</span><strong><span>Y</span></strong><span>0.1 (172.16.</span><strong><span>Y</span></strong><span>0.1), 30 hops max, 60 byte packets</span></p>
<p><span>1  172.16.</span><strong><span>Y</span></strong><span>1.254 (172.16.</span><strong><span>Y</span></strong><span>1.254)  0.200 ms  0.204 ms  0.224 ms</span></p>
<p><span>2  172.16.</span><strong><span>Y</span></strong><span>1.253 (172.16.</span><strong><span>Y</span></strong><span>1.253)  0.354 ms  0.345 ms  0.344 ms</span></p>
<p><span>3  tux</span><strong><span>Y</span></strong><span>1 (172.16.</span><strong><span>Y</span></strong><span>0.1)  0.596 ms  0.587 ms  0.575 ms</span></p>
</li>
<li>
<p><span>Re-create the route that connects Tux</span><strong><span>Y</span></strong><span>2 to Tux</span><strong><span>Y</span></strong><span>4.</span></p>
<p><code><span>$ route add -net 172.16.</span><strong><span>Y</span></strong><span>0.0/24 gw 172.16.</span><strong><span>Y</span></strong><span>1.253</span></code></p>
</li>
<li>
<p><span>Trace the route from Tux</span><strong><span>Y</span></strong><span>2 to Tux</span><strong><span>Y</span></strong><span>3.</span></p>
<p><code><span>$ traceroute -n 172.16.</span><strong><span>Y</span></strong><span>0.1</span></code></p>
<p><span>Out:</span></p>
<p><span>traceroute to 172.16.</span><strong><span>Y</span></strong><span>0.1 (172.16.</span><strong><span>Y</span></strong><span>0.1), 30 hops max, 60 byte packets</span></p>
<p><span>1  172.16.</span><strong><span>Y</span></strong><span>1.253 (172.16.</span><strong><span>Y</span></strong><span>1.253)  0.196 ms  0.180 ms  0.164 ms</span></p>
<p><span>2  tux</span><strong><span>Y</span></strong><span>1 (172.16.</span><strong><span>Y</span></strong><span>0.1)  0.414 ms  0.401 ms  0.375 ms</span></p>
</li>
<li>
<p><span>Reactivate accept_redirects.</span></p>
<code>
$ sysctl net.ipv4.conf.eth0.accept_redirects=1
</code><p><code><span>$ sysctl net.ipv4.conf.all.accept_redirects=1</span><br>
</code></p>
</li>
<li>
<p><span>From Tux</span><strong><span>Y</span></strong><span>3, ping the Lab’s router.</span></p>
<p><code><span>$ ping 172.1.254</span></code></p>
</li>
<li>
<p><span>Deactivate the router’s NAT.</span><br>
<span>On GTKTerm, on the router’s console:</span><br>
<code><span>/ip firewall net disable 0</span></code></p>
</li>
<li>
<p><span>On Tux</span><strong><span>Y</span></strong><span>3, ping the Lab’s router again.</span></p>
<p><span>In:</span></p>
<pre><code>&lt;code&gt;ping 172.16.1.254&lt;/code&gt;
</code></pre>
<p><span>Out:</span></p>
<pre><code>No connection.
</code></pre>
</li>
<li>
<p><span>Reactivate the router’s NAT.</span></p>
<p><code><span>/ip firewall nat enable 0</span></code></p>
</li>
</ol><h4 id="Questions3" data-id="Questions"><a class="anchor hidden-xs" href="#Questions3" title="Questions3"><span class="octicon octicon-link"></span></a><span>Questions</span></h4><ol>
<li>
<p><span>How to configure a static route in a commercial router?</span></p>
<p><span>We start by reseting its settings, add it to the corresponding bridge and give it its own external and internal IP address.</span></p>
</li>
<li>
<p><span>What are the paths followed by the packets in the experiments carried out and why?</span></p>
<p><span>In the first part of the experience, where Tux</span><strong><span>Y</span></strong><span>2 wasn’t connected to Tux</span><strong><span>Y</span></strong><span>4,the data packets were redirected (ICMP redirect) through the implementes router to the destiny IP address.</span><br><br>
<span>In the second part of the experience, there were no redirects, since the shortest connection in the network was available.</span></p>
</li>
<li>
<p><span>How to configure NAT in a commercial router?</span><br>
<span>Using the GTK Terminal command </span><code><span>/ip firewall nat enable 0</span></code><span> in the router’s terminal.</span></p>
</li>
<li>
<p><span>What does NAT do?</span><br>
<span>NAT (Network Address Translation) translates addresses from the local network to a single public address and vice-versa. Because of this, when a packet is sent to an external network, the package is sent with the public address as the source. When the destiny machine sends back a response, it sends that response to the public address, which is than re-translated again to the local address that sent the packet in the first place. This is useful, since we can reduce the number of public addresses used on a network.</span></p>
</li>
</ol><h3 id="Experience-5---DNS" data-id="Experience-5---DNS"><a class="anchor hidden-xs" href="#Experience-5---DNS" title="Experience-5---DNS"><span class="octicon octicon-link"></span></a><span>Experience 5 - DNS</span></h3><h4 id="Step-by-Step" data-id="Step-by-Step"><a class="anchor hidden-xs" href="#Step-by-Step" title="Step-by-Step"><span class="octicon octicon-link"></span></a><span>Step by Step</span></h4><p><span>Note that, in this experience, the workbench used was workbench 4 and in room I320.</span></p><ol>
<li>
<p><span>Configure DNS in all machines.</span></p>
<ul>
<li>
<p><span>In Tux</span><strong><span>Y</span></strong><span>2:</span></p>
  <code>
  $ nano /etc/resolv.conf
  </code>
  and add the line
  <code>nameserver 172.16.2.1</code> 
</li>
<li>
<p><span>Tux</span><strong><span>Y</span></strong><span>3:</span></p>
  <code>
  $ nano /etc/resolv.conf
  </code>
  and add the line
  <code>nameserver 172.16.2.1</code> 
</li>
<li>
<p><span>Tux</span><strong><span>Y</span></strong><span>4:</span></p>
  <code>
  $ nano /etc/resolv.conf
  </code>
  and add the line
  <code>nameserver 172.16.2.1</code> 
</li>
</ul>
</li>
<li>
<p><span>In all 3 machines, ping website names to check if they can be used as host.</span></p>
<p><span>In:</span></p>
<p><code><span>$ ping </span><a href="http://google.com" target="_blank" rel="noopener"><span>google.com</span></a><span> -c 10</span></code></p>
<p><span>Out:</span></p>
<p><span>All 10 packets correctly transmitted and recieved from every machine.</span></p>
</li>
</ol><h4 id="Questions4" data-id="Questions"><a class="anchor hidden-xs" href="#Questions4" title="Questions4"><span class="octicon octicon-link"></span></a><span>Questions</span></h4><ol>
<li>
<p><span>How to configure the DNS service at a host?</span></p>
<p><span>DNS is configured by adding the line “nameserver </span><strong>&lt;IP&gt;</strong><span>” to the end of the file /etc/resolv.conf of all connected machines.</span></p>
</li>
<li>
<p><span>What packets are exchanged by DNS and what information is transported?</span><br>
<span>The first few packets transported are DNS packets, so that the router can identify and translate the destiny IP address.</span></p>
</li>
</ol><h3 id="Experience-6---TCP-Connections" data-id="Experience-6---TCP-Connections"><a class="anchor hidden-xs" href="#Experience-6---TCP-Connections" title="Experience-6---TCP-Connections"><span class="octicon octicon-link"></span></a><span>Experience 6 - TCP Connections</span></h3><h4 id="Step-By-Step4" data-id="Step-By-Step"><a class="anchor hidden-xs" href="#Step-By-Step4" title="Step-By-Step4"><span class="octicon octicon-link"></span></a><span>Step By Step</span></h4><p><span>Note that, in this experience, the workbench used was workbench 4.</span></p><ol>
<li>
<p><span>Compile the download application in Tux</span><strong><span>Y</span></strong><span>3.</span></p>
</li>
<li>
<p><span>In Tux</span><strong><span>Y</span></strong><span>3, start a Wireshark capture and execute the application.</span></p>
</li>
<li>
<p><span>Check if the file has correctly arrived and stop de Wireshark capture.</span></p>
</li>
<li>
<p><span>Check the Wireshark log and analyze the data packets exchanged.</span></p>
</li>
<li>
<p><span>Start the Wireshark capture again and restart the download in Tux</span><strong><span>Y</span></strong><span>3. After it started, switch to Tux</span><strong><span>Y</span></strong><span>2 and start a download there too.</span></p>
</li>
<li>
<p><span>Stop the capture and analyse the logs.</span></p>
</li>
</ol><h4 id="Questions5" data-id="Questions"><a class="anchor hidden-xs" href="#Questions5" title="Questions5"><span class="octicon octicon-link"></span></a><span>Questions</span></h4><ol>
<li>
<p><span>How many TCP connections are opened by your FTP application?</span></p>
<p><span>The application has 2 TCP connections, one to send commands and another to recieve the file.</span></p>
</li>
<li>
<p><span>In what connection is transported the FTP control information?</span></p>
<p><span>The control informamtion is transported through the connection that has been setup to send commands to the server and fetch its responses.</span></p>
</li>
<li>
<p><span>What are the phases of a TCP connection?</span></p>
<p><span>A TCP connection is divided in 3 main phases:</span></p>
<ul>
<li>
<p><span>Connection Establishment (Three-Way Handshake), where the client sends a TCP segment to the server with the </span><strong><span>SYN</span></strong><span> flag. That is followed by a response from the server, which is a TCP segment that carries </span><strong><span>both</span></strong><span> the </span><strong><span>SYN</span></strong><span> and the </span><strong><span>ACK</span></strong><span> flags. To end this three-way handshake, the client sends a last TCP segment with the </span><strong><span>ACK</span></strong><span> flag, which acknowledges the receipt of the previous server response.</span></p>
</li>
<li>
<p><span>Data Transfer, where the data is encapsulated into TCP segments and is exchanged between the server and the client.</span></p>
</li>
<li>
<p><span>Connection Termination (Four-Way Handshake), where the client starts by sending a TCP segment with the </span><strong><span>FIN</span></strong><span> flag to the server, who responds with a segment carrying the </span><strong><span>ACK</span></strong><span> flag and another one that carries another </span><strong><span>FIN</span></strong><span> flag. Than, the client answers back with the last TCP segment, that carries a </span><strong><span>ACK</span></strong><span> flag.</span></p>
</li>
</ul>
</li>
<li>
<p><span>How does the ARQ TCP mechanism work? What are the relevant TCP fields? What relevant information can be observed in the logs?</span></p>
<p><span>Automatic Repeat Request (ARQ) is used to retransmit information on a congested network, which is a network where packets have been lost. In order to lose packets, many have to be sent at the same time (Additive Increase). We can use Slow Start when, instead of adding a one to CongestionWindow in each transmission, we double the CongestionWindow in each retransmission. Packet loss can either occur by timeout (there’s a Multiplicative Decrease, making Congestion Window 1 and increasing it back until its half the value that’s gotten via slow start. After that, Additive Increase starts being incremented by 1) or due to 3 consecutive ACKs (there’s a Multiplicative Decrease, reducing Congestion Window to half and the Additive Increase starts being incremented by 1).</span></p>
</li>
<li>
<p><span>How does the TCP congestion control mechanism work? What are the relevant fields. How did the throughput of the data connection evolve along the time? Is it according to the TCP congestion control mechanism?</span></p>
<p><span>Each sender determines the channel capacity in order to send one or less packets. Because of that, there’s another new parameter in the connection - CongestionWindow. If the network’s congestion level increases, the CongestionWindow decreases and vice-versa.</span></p>
</li>
<li>
<p><span>Is the throughput of a TCP data connections disturbed by the appearance of a second TCP connection? How?</span></p>
<p><span>Yes - by creating more than once TCP connectio, the bandwith will be divided by all the connections, slowing each one of them down.</span></p>
</li>
</ol><h2 id="Conclusions" data-id="Conclusions"><a class="anchor hidden-xs" href="#Conclusions" title="Conclusions"><span class="octicon octicon-link"></span></a><span>Conclusions</span></h2><p><span>By correctly implementing all the steps of the project, from the app to the experiences,</span><br>
<span>we had the chance to better understand how the TCP protocol works, how the configuration of a complex network is done and how do the many kind packets behave and what information they carry.</span></p><h2 id="Annexes" data-id="Annexes"><a class="anchor hidden-xs" href="#Annexes" title="Annexes"><span class="octicon octicon-link"></span></a><span>Annexes</span></h2><h3 id="1-Code" data-id="1-Code"><a class="anchor hidden-xs" href="#1-Code" title="1-Code"><span class="octicon octicon-link"></span></a><span>1. Code</span></h3><ul>
<li>
<h5 id="Available-in-folder-app" data-id="Available-in-folder-app"><a class="anchor hidden-xs" href="#Available-in-folder-app" title="Available-in-folder-app"><span class="octicon octicon-link"></span></a><span>Available in folder app.</span></h5>
</li>
</ul><h3 id="2-Wireshark-Captures" data-id="2-Wireshark-Captures"><a class="anchor hidden-xs" href="#2-Wireshark-Captures" title="2-Wireshark-Captures"><span class="octicon octicon-link"></span></a><span>2. Wireshark Captures</span></h3><ul>
<li>
<h5 id="Logs-and-prints-availables-in-resource-folder" data-id="Logs-and-prints-availables-in-resource-folder"><a class="anchor hidden-xs" href="#Logs-and-prints-availables-in-resource-folder" title="Logs-and-prints-availables-in-resource-folder"><span class="octicon octicon-link"></span></a><span>Logs and prints availables in resource folder.</span></h5>
</li>
</ul><h3 id="2-Wireshark-Captures1" data-id="2-Wireshark-Captures"><a class="anchor hidden-xs" href="#2-Wireshark-Captures1" title="2-Wireshark-Captures1"><span class="octicon octicon-link"></span></a><span>2. Wireshark Captures</span></h3><ul>
<li>
<h5 id="Logs-and-prints-availables-in-resource-folder1" data-id="Logs-and-prints-availables-in-resource-folder"><a class="anchor hidden-xs" href="#Logs-and-prints-availables-in-resource-folder1" title="Logs-and-prints-availables-in-resource-folder1"><span class="octicon octicon-link"></span></a><span>Logs and prints availables in resource folder.</span></h5>
</li>
</ul></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav">
<li class="invisable-node"><ul class="nav">
<li><a href="#Table-of-Contents" title="Table of Contents">Table of Contents</a></li>
<li><a href="#Introduction" title="Introduction">Introduction</a></li>
<li><a href="#Part-1---Develoment-of-the-Download-Application-appc-and-apph" title="Part 1 - Develoment of the Download Application (app.c and app.h)">Part 1 - Develoment of the Download Application (app.c and app.h)</a><ul class="nav">
<li><a href="#Architecture-of-the-Application" title="Architecture of the Application">Architecture of the Application</a></li>
</ul>
</li>
<li><a href="#Part-2---Experiences" title="Part 2 - Experiences">Part 2 - Experiences</a><ul class="nav">
<li><a href="#Experience-1---Configure-an-IP-Network" title="Experience 1 - Configure an IP Network">Experience 1 - Configure an IP Network</a></li>
<li><a href="#Experience-2---Implement-two-bridges-in-a-switch" title="Experience 2 - Implement two bridges in a switch">Experience 2 - Implement two bridges in a switch</a></li>
<li><a href="#Experience-3---Configure-a-router-in-Linux" title="Experience 3 - Configure a router in Linux">Experience 3 - Configure a router in Linux</a></li>
<li><a href="#Experience-4---Configure-a-Commercial-Router-and-Implement-NAT" title="Experience 4 - Configure a Commercial Router and Implement NAT">Experience 4 - Configure a Commercial Router and Implement NAT</a></li>
<li><a href="#Experience-5---DNS" title="Experience 5 - DNS">Experience 5 - DNS</a></li>
<li><a href="#Experience-6---TCP-Connections" title="Experience 6 - TCP Connections">Experience 6 - TCP Connections</a></li>
</ul>
</li>
<li><a href="#Conclusions" title="Conclusions">Conclusions</a></li>
<li><a href="#Annexes" title="Annexes">Annexes</a><ul class="nav">
<li><a href="#1-Code" title="1. Code">1. Code</a></li>
<li><a href="#2-Wireshark-Captures" title="2. Wireshark Captures">2. Wireshark Captures</a></li>
<li><a href="#2-Wireshark-Captures1" title="2. Wireshark Captures">2. Wireshark Captures</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;" null null>
        <div class="toc"><ul class="nav">
<li class="invisable-node"><ul class="nav">
<li><a href="#Table-of-Contents" title="Table of Contents">Table of Contents</a></li>
<li><a href="#Introduction" title="Introduction">Introduction</a></li>
<li><a href="#Part-1---Develoment-of-the-Download-Application-appc-and-apph" title="Part 1 - Develoment of the Download Application (app.c and app.h)">Part 1 - Develoment of the Download Application (app.c and app.h)</a><ul class="nav">
<li><a href="#Architecture-of-the-Application" title="Architecture of the Application">Architecture of the Application</a></li>
</ul>
</li>
<li><a href="#Part-2---Experiences" title="Part 2 - Experiences">Part 2 - Experiences</a><ul class="nav">
<li><a href="#Experience-1---Configure-an-IP-Network" title="Experience 1 - Configure an IP Network">Experience 1 - Configure an IP Network</a></li>
<li><a href="#Experience-2---Implement-two-bridges-in-a-switch" title="Experience 2 - Implement two bridges in a switch">Experience 2 - Implement two bridges in a switch</a></li>
<li><a href="#Experience-3---Configure-a-router-in-Linux" title="Experience 3 - Configure a router in Linux">Experience 3 - Configure a router in Linux</a></li>
<li><a href="#Experience-4---Configure-a-Commercial-Router-and-Implement-NAT" title="Experience 4 - Configure a Commercial Router and Implement NAT">Experience 4 - Configure a Commercial Router and Implement NAT</a></li>
<li><a href="#Experience-5---DNS" title="Experience 5 - DNS">Experience 5 - DNS</a></li>
<li><a href="#Experience-6---TCP-Connections" title="Experience 6 - TCP Connections">Experience 6 - TCP Connections</a></li>
</ul>
</li>
<li><a href="#Conclusions" title="Conclusions">Conclusions</a></li>
<li><a href="#Annexes" title="Annexes">Annexes</a><ul class="nav">
<li><a href="#1-Code" title="1. Code">1. Code</a></li>
<li><a href="#2-Wireshark-Captures" title="2. Wireshark Captures">2. Wireshark Captures</a></li>
<li><a href="#2-Wireshark-Captures1" title="2. Wireshark Captures">2. Wireshark Captures</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
